<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lyj_web.map.mappers.UpdateMapper">
    <delete id="deleteExpired">
        delete from loc_Live where last_update+600 &lt; #{time}
    </delete>
    <insert id="insert" parameterType="com.lyj_web.map.DTO.LocDTO">
        insert into loc_Live(`last_update`, `id`, `name`, `location`, `group`, `heading`, `speed`) values((SELECT UNIX_TIMESTAMP()), #{id}, #{name}, #{location}, #{group}, #{heading}, #{speed});
    </insert>
    <select id="select" parameterType="com.lyj_web.map.DTO.LocDTO" resultType="LocVo">
        select * from locLive where id not like #{id} and `group` like #{group}
    </select>
    <update id="update" parameterType="com.lyj_web.map.DTO.LocDTO">

    </update>
</mapper>